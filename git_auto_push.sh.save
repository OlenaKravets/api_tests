#!/bin/bash

# ================================
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π Git push + —Ç—Ä–∏–≥–µ—Ä Allure Report
# ================================

# 1Ô∏è‚É£ –û—á–∏—Å—Ç–∫–∞ –º–æ–∂–ª–∏–≤–∏—Ö –±–ª–æ–∫—É–≤–∞–Ω—å
rm -f .git/index.lock .git/refs/heads/main.lock .git/HEAD.lock

# 2Ô∏è‚É£ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ —î –∑–º—ñ–Ω–∏
if [[ -z $(git status --porcelain) ]]; then
    echo "‚ö†Ô∏è  –ù–µ–º–∞—î –∑–º—ñ–Ω –¥–ª—è –∫–æ–º—ñ—Ç—É. –í–∏—Ö—ñ–¥..."
    exit 0
fi

# 3Ô∏è‚É£ –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –∑–º—ñ–Ω
echo "üîÑ –î–æ–¥–∞—é –≤—Å—ñ –∑–º—ñ–Ω–∏ –¥–æ Git..."
git add -A

# 4Ô∏è‚É£ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º—ñ—Ç—É –∑ –ø–æ—Ç–æ—á–Ω–∏–º —á–∞—Å–æ–º
commit_message="Auto commit on $(date '+%Y-%m-%d %H:%M:%S')"
echo "üíæ –°—Ç–≤–æ—Ä—é—é –∫–æ–º—ñ—Ç: $commit_message"
git commit -m "$commit_message"


 
