#!/bin/bash

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—É—à —É—Å—ñ—Ö –∑–º—ñ–Ω
echo "üîÑ –î–æ–¥–∞—é –≤—Å—ñ –∑–º—ñ–Ω–∏ –¥–æ git..."
git add .

# –°—Ç–≤–æ—Ä—é—é –∫–æ–º—ñ—Ç —ñ–∑ –ø–æ—Ç–æ—á–Ω–æ—é –¥–∞—Ç–æ—é —Ç–∞ —á–∞—Å–æ–º
commit_message="Auto commit on $(date '+%Y-%m-%d %H:%M:%S')"
echo "üíæ –°—Ç–≤–æ—Ä—é—é –∫–æ–º—ñ—Ç: $commit_message"
git commit -m "$commit_message"

# –ü—É—à —É –≥—ñ–ª–∫—É main
echo "üöÄ –í–∏–∫–æ–Ω—É—é –ø—É—à —É main..."
git push origin main

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
if [ $? -eq 0 ]; then
    echo "‚úÖ –ü—É—à –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ!"
else
    echo "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –ø—É—à—ñ!"
fi
git reset
